<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="网站名称">
    <meta name="applicable-device" content="pc,mobile">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <title>网页导出图片</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <link type="text/css" rel="stylesheet" href="assets/neatui/css/neatui.min.css"><!--前端框架-->
    <link type="images/x-icon" rel="shortcut icon" href="/favicon.ico">
    <script type="text/javascript">if(top.location != self.location){ top.location = self.location; }</script>
</head>
<body>

    <style>
        body{ max-width: 640px; margin: 0 auto; padding: 25px 10px; }
        .wrap{ padding: 10px 15px; }
        .export{ margin-bottom: 25px; }
        button{ padding: 5px 10px; background-color: #f5f5f5; color: #fff; border: 0; border-radius: 4px;}
        button.blue{ background-color: #80c0ef; }
        button.green{ background-color: #08ba61; }
    </style>

    <div class="wrap">
        <main>
            <section class="export">
                <button type="button" id="btn-save-web" class="blue">保存整个网页为图片</button>
                <button type="button" id="btn-save-area" class="green">保存黄色区域为图片</button>
            </section>

            <section class="content">
                <div class="user">
                    <div class="title">水浒传会物谱</div>
                    <div class="list">
                        <p><label>用户：</label><span>林冲</span></p>
                        <p><label>性别：</label><span>男</span></p>
                        <p><label>昵称：</label><span>豹子头</span></p>
                        <p><label>籍贯：</label><span>梁山泊</span></p>
                    </div>
                </div><!--/.user-->
                <div class="test" id="colored" style="padding: 10px; background: #f5da55">
                    <h4 style="color: #000; ">Hello world!</h4>
                </div><!--/.test-->
            </section>
        </main>
    </div><!--/.wrap-->


    <!--================================================================================-->
    <!--                            JAVASCRIPT                                          -->
    <!--================================================================================-->
    <script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script type="text/javascript" src="assets/style/libs/jquery.html2canvas.min.js"></script><!--网页转成图片控件-->
    <script type="text/javascript" src="assets/neatui/js/neatui.min.js"></script><!--前端框架-->
    <script type="text/javascript">


        //——————————————————————————————————————————
        /**
         * [调用示例]
            neui.exportWeb2Image(options);
                options参数：
                var options = {
                    element: "body", // 要转换成图片的选择器节点(可选), 默认'body'。若是整个网页，传值：'body', 若是部分区域，则传值：'#节点ID。 eg1. 'body', eg2.'#users', eg3.'.user'
                    filename: "下载图片.png", // 下载后的图片名称(仅pc端时有效)(可选)。
                    caption: "长按图片“保存到手机”" // 弹出窗口的标题(仅移动端时有效)(可选)。
                    closeCallBack: null // 窗口关闭时的回调函数(可选)。
                }
        */

        //——————————————————————————————————————————
        //=====示例1：保存整个网页为图片
        var btnAll = document.getElementById('btn-save-web');
        btnAll.addEventListener('click', function(){
            neui.exportWeb2Image({
                element: 'body',
                filename: '用户资料.png',
                caption: '长按保存图片'
            })
        });


        //——————————————————————————————————————————
        //=====示例2：保存黄色区域为图片
        var btnYellow = document.getElementById('btn-save-area');
        btnYellow.addEventListener('click', function(){
            neui.exportWeb2Image({
                element: '#colored',
                filename: 'Hello World.jpg',
                caption: '长按保存图片'
            });
        });


    </script>
</body>
</html>