<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="网站名称">
    <meta name="applicable-device" content="pc,mobile">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <title>数组对象根据某一属性合并为新的数组</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <link type="text/css" rel="stylesheet" href="">
    <link type="images/x-icon" rel="shortcut icon" href="/favicon.ico">
    <script type="text/javascript">if (top.location != self.location) { top.location = self.location; }</script>
    <!--[if lt IE 9]>
        <script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/html5shiv/r29/html5.min.js"></script>
        <script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
        <script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/rem/1.3.4/js/rem.min.js"></script>
        <script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/json2/20160511/json2.min.js"></script>
    <![endif]-->
</head>

<body>
    <div class="wrap">
        <header></header>
        <main></main>
        <footer></footer>
    </div><!--/.wrap-->


    <!--================================================================================-->
    <!--                            JAVASCRIPT                                          -->
    <!--================================================================================-->
    <script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script type="text/javascript">
        /*+————————————————全局变量————————————————+*/

        /*+————————————————FUNCTION————————————————+*/
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        $(function () {

            // 数组对象根据某一属性合并为新的数组
            //https://blog.csdn.net/weixin_43994675/article/details/120988367
            let arr = [
                { id: 1, list: { name: 999 } },
                { id: 1, list: { name: 888 } },
                { id: 2, list: { name: 777 } },
                { id: 2, list: { name: 666 } },
                { id: 3, list: { name: 555 } },
                { id: 3, list: { name: 444 } },
            ];

            let Arr1 = [],
                Arr2 = [];
            for (let i = 0; i < arr.length; i++) {
                if (Arr1.indexOf(arr[i].id) === -1) {
                    Arr2.push({
                        id: arr[i].id,
                        list: [arr[i].list],
                    });
                    Arr1.push(arr[i].id);
                } else {
                    for (let j = 0; j < Arr2.length; j++) {
                        if (Arr2[j].id == arr[i].id) {
                            Arr2[j].list.push(arr[i].list);
                        }
                    }
                }
            }

            console.log('arr1：', Arr1); 
            // Arr1 = [1, 2, 3]
            console.log(Arr2);
            // Arr2 = [{ id: 1, list: [{ name: 999 }, { name: 888 }] }, { id: 2, list: [{ name: 777 }, { name: 666 }]..............}]





            //————————————————————————————————————————————————————————————————————————————————————————————————————————————————
            //+                                                          初始化                                                 
            //————————————————————————————————————————————————————————————————————————————————————————————————————————————————
            //——————————————————————————————————————————
            //=====初始化加载

            //————————————————————————————————————————————————————————————————————————————————————————————————————————————————
            //+                                                         系列事件                                             
            //————————————————————————————————————————————————————————————————————————————————————————————————————————————————
            //——————————————————————————————————————————
            //=====xx点击事件

            //----------------------------------------------------------------------------------------------------------------
            //                                                大型区块                                                         
            //----------------------------------------------------------------------------------------------------------------
            //:----------------------------------------
            //=====xx点击事件

            //::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
            //                               中等区块                                  
            //::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
            //::::::::::::::::::::::::::::::::::::::::
            //=====xx点击事件

            //~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
            //                 小区块                                 
            //~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
            //~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
            //=====xx点击事件



        }); //$(function(){});
    </script>


</body>

</html>