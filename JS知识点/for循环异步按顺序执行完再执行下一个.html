<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=>, initial-scale=1.0">
    <title>for循环异步按顺序执行再执行下一个</title>
</head>


<body>

    <h1>JS如何让异步回调的代码在for循环里按顺序一个执行完再执行下一个<br>使用asyc+await+promise</h1>
    <h5>参考：https://www.dgrt.cn/a/1477094.html</h5>
    <script>


        async function test4() { 
            for (let i = 0; i < 3; i++) { 
                await 
                waitMinutes2()
                console.log(i) 
            } 
        } 
            
        function waitMinutes2() {
            return new Promise(function (resolve, reject) {
                //做一些异步操作
                setTimeout(() => { 
                    console.log('等2秒'); 
                    resolve("等完了") 
                }, 2000);
            });
        } 
        
        test4();
    </script>
</body>

</html>