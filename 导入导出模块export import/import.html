<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ES6 Import模块示例</title></title>
</head>
<body>

    <h1>ES6 Import模块示例</h1>
    <h5>
        注意在浏览器使用ES Modules时，要在script标签上加上 type="module"，且要在服务器上运行，不支持本地运行的file协议(触发CORS)
    </h5>

    <div class="statement">
        <pre>
        【模块化】
        一文彻底搞懂前端模块化：exports、module.exports、export、import、export default、CommonJS规范与ES Module规范：
        http://e.betheme.net/article/show-372207.html?action=onClick
        模块化的各种规范： https://segmentfault.com/q/1010000013177999

        JS之export： https://www.cnblogs.com/sherlock-V/p/17154981.html
        JS之import： https://www.cnblogs.com/wl-blog/p/16118249.html
        ES6新特性：使用export和import实现模块化： https://www.cnblogs.com/diligenceday/p/5503777.html
        ES6之import * as 用法：https://blog.csdn.net/weixin_44867717/article/details/124142489
        </pre>
    </div>

    <!-- <script type="module" src="index.js"></script> -->
    <script type="module">
        //————————————————————————————————————————
        // 方法1：直接引入模块变量
        import {user, message} from './user.js';
        var name = user.name,
            age = user.age,
            sex = user.sex;
        var msg = message.welcome;
        console.log('姓名：', name);
        console.log('性别：', sex);
        console.log('年龄：', age);
        console.log('信息：', msg);
        console.log('----------------');

        //————————————————————————————————————————
        // 方法2：引入模块变量并另起别名
        import {user as client, message as infos} from './user.js';
        var name = client.name,
            age = client.age,
            sex = client.sex;
        var msg = infos.welcome;
        console.log('姓名：', name);
        console.log('性别：', sex);
        console.log('年龄：', age);
        console.log('信息：', msg);
        console.log('----------------');

        //————————————————————————————————————————
        // 方法3：一次性全部导入模块变量。会将若干export导出的内容组合成一个对象返回
        import * as foo from './user.js';
        var name = foo.user.name, //
            age = foo.user.age,
            sex = foo.user.sex;
        var msg = foo.message.welcome;
        console.log('姓名：', name);
        console.log('性别：', sex);
        console.log('年龄：', age);
        console.log('信息：', msg);
        console.log('----------------');

        var school = foo.school,
            grade = foo.grade;
        console.log('学校：', school, '\n班级：', grade);


        //————————————————————————————————————————
        // 导入export default导出的
        import colors from './user.js';
        var color = colors.value;
        console.log('颜色：', color);
    </script>

</body>
</html>